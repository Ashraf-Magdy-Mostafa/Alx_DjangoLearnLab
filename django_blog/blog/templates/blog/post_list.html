{% extends "base.html" %}
{% block title %}Posts{% endblock %}
{% block content %}
  <h1>Latest Posts</h1>

  {% if posts %}
    <div class="grid">
      {% for post in posts %}
        <article class="card">
          <h2><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
          <p class="meta">By {{ post.author }} â€¢ {{ post.published_date|date:"M d, Y" }}</p>
          <p>{{ post.content|truncatechars:180 }}</p>

          {% if post.tags.all %}
            <p class="tags">
              {% for tag in post.tags.all %}
                <a class="tag" href="{% url 'tag_posts' tag.name %}">#{{ tag.name }}</a>
              {% endfor %}
            </p>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p>No posts yet.</p>
  {% endif %}
{% endblock %}
